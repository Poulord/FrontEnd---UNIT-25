<!--
index.html - P치gina principal del Frontend
============================================

Prop칩sito:
- Interfaz web para interactuar con la API de predicci칩n de sequ칤as
- Permite al usuario seleccionar horizonte, escenario y nivel del embalse
- Muestra resultados de predicci칩n con an치lisis de riesgo

Caracter칤sticas:
- Formulario interactivo con m칰ltiples opciones de entrada
- Modo A: Seleccionar horizonte en meses (3, 6, 12, 24, etc.)
- Modo B: Seleccionar fecha objetivo y calcular meses autom치ticamente
- Visualizaci칩n de riesgos con c칩digo de colores
- Tabla de predicciones mensuales
- Manejo de errores con mensajes claros

Estructura:
- <head>: Metadatos, CSS embebido
- <body>: Formulario, secciones de resultados
- <script>: JavaScript embebido para l칩gica del cliente

Dependencias externas:
- Conecta con backend en http://127.0.0.1:8000 (configurable)
- Usa Fetch API para peticiones HTTP (sin librer칤as adicionales)
-->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Riesgo de Sequ칤a en Embalses</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>游깱 Simulador de Riesgo de Sequ칤a</h1>
            <p class="subtitle">
                Prototipo de predicci칩n de sequ칤a en embalses usando an치lisis de series temporales con Prophet.
                Simula diferentes escenarios clim치ticos y obt칠n un an치lisis de riesgo personalizado.
            </p>
        </header>

        <div class="form-section">
            <form id="predictionForm">
                <div class="form-group">
                    <label for="horizonte">Horizonte de predicci칩n (meses):</label>
                    <select id="horizonte">
                        <option value="">Selecciona una opci칩n</option>
                        <option value="3">3 meses</option>
                        <option value="6">6 meses</option>
                        <option value="12">12 meses</option>
                        <option value="24">24 meses</option>
                    </select>
                </div>

                <div class="form-group form-group-full">
                    <label for="fechaObjetivo">Fecha objetivo (opcional):</label>
                    <input 
                        type="month" 
                        id="fechaObjetivo"
                        placeholder="Selecciona una fecha"
                    >
                    <p style="font-size: 0.85em; color: #666; margin-top: 5px;">
                        Si indicas una fecha, se calcular치 autom치ticamente el n칰mero de meses desde la 칰ltima fecha disponible (marzo 2021)
                    </p>
                </div>

                <div class="form-group">
                    <label for="escenario">Escenario clim치tico:</label>
                    <select id="escenario" required>
                        <option value="">Selecciona una opci칩n</option>
                        <option value="normal">Normal</option>
                        <option value="seco">Seco</option>
                        <option value="muy_seco">Muy seco</option>
                        <option value="humedo">H칰medo</option>
                    </select>
                </div>

                <div class="form-group form-group-full">
                    <label for="nivelUsuario">Nivel actual del embalse (hm췁) - Opcional:</label>
                    <input 
                        type="number" 
                        id="nivelUsuario" 
                        step="0.1"
                        placeholder="Opcional. Nivel actual estimado (hm췁)"
                    >
                </div>

                <div class="button-container form-group-full">
                    <button type="submit" id="calcularBtn">Calcular riesgo de sequ칤a</button>
                </div>
            </form>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="results-section" id="resultsSection">
            <div class="riesgo-container">
                <div class="riesgo-box" id="riesgoBox">
                    Riesgo global: <span id="riesgoGlobal">-</span>
                </div>
                <div class="sequia-info">
                    <span id="sequiaInfo">-</span>
                </div>
            </div>

            <div class="table-container">
                <table id="prediccionTable">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Nivel (hm췁)</th>
                            <th>Situaci칩n</th>
                            <th>쯉equ칤a?</th>
                            <th>쯅ivel bajo?</th>
                        </tr>
                    </thead>
                    <tbody id="prediccionTbody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="assets/script.js"></script>
</body>
</html>
